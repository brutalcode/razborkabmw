(function(a){var m=function(g,d){var h=a("#"+g),l=a("#tid-"+g),f=this;this.addSelect=function(b,k){var e=b;if(null==b){var c='<div class="form-item form-type-select"><select class="form-select" autocomplete="off">';a.each(k,function(a,b){c+='<option value="'+a+'">'+b+"</option>"});c+="</select></div>";e=a(c).appendTo(h);e.find("select").once().val("All")}a("select",e).change(function(b){f.getSelectedValues();f.ajaxQuery(a(this))});return e};this.ajaxQuery=function(b){var k=parseInt(b.val(),10);a.ajax({url:Drupal.settings.basePath+
"ajax/views_hst_filter",type:"post",async:!1,data:{vid:d.vid,tid:k,nodeCounter:d.nodeCounter,hideEmpty:d.hideEmpty},beforeSend:function(a,c){b.vhfAddAjaxIndicator()},complete:function(a,c){b.vhfRemoveAjaxInidcator()},success:function(e,c){b.parent().nextAll("div").remove();a.isEmptyObject(e)||(f.addSelect(null,e),Drupal.attachBehaviors());f.getSelectedValues()}})};this.getSelectedValues=function(){var b="";h.find("select").map(function(f,e){var c=a(e).val();b+="All"===c?c:parseInt(c,10);b+=","});
l.val(b)};h.find("select").each(function(b,d){f.addSelect(a(d).parent(),null)});f.getSelectedValues()};a.fn.vhfAddAjaxIndicator=function(){a('<div class="ajax-loading"></div>').insertBefore(this).css({top:this.position().top,left:this.position().left-20});return this};a.fn.vhfRemoveAjaxInidcator=function(){this.prevAll(".ajax-loading").remove();return this};Drupal.behaviors.viewsHstFilter={attach:function(g,d){a.each(d.views_hst_filter,function(a,d){new m(a,d)})}}})(jQuery);